捷算云最佳实践
================

本章节介绍在捷智算平台上最高效、省钱的使用方式。

推荐工作流
----------

为了节省成本并保持开发效率，我们推荐以下工作流程：

1. **本地开发**
   
   在本地电脑上编写和调试代码。本地编辑器（如 VS Code, PyCharm）响应更快，且不消耗服务器费用。

2. **按需租用**
   
   当需要进行模型训练或测试时：
   
   * 购买 **1小时** 的服务器实例。
   * **关键步骤**：在创建实例时，务必勾选 **"保留磁盘"** 选项。
   * 开启 **"自动续费"**（或连续续费），确保训练过程中不会因为余额不足被强制关机。

3. **上传与训练**
   
   * 将本地代码上传到服务器。
   * 运行训练任务。

4. **停止与释放**
   
   * 训练结束后，立即 **停止** 或 **释放** 实例。
   * 由于勾选了"保留磁盘"，您的系统盘环境和数据盘数据都会被保留。
   * 下次需要使用时，直接从保留的镜像/磁盘启动，**无需重新配置环境**。

.. note::

   **为什么选择保留磁盘？**
   
   保留磁盘会同时保留系统盘（包含您安装的软件环境）和数据盘（包含数据集）。这样您就可以像使用本地电脑一样，随时暂停和恢复工作，而只需支付开机期间的费用和少量的磁盘存储费。

Windows 用户特别说明
--------------------

Windows 自带远程连接
~~~~~~~~~~~~~~~~~~~~

对于 Windows 用户，我们建议直接使用系统自带的 **远程桌面连接** 或 **命令行 SSH**，而不需要安装额外的第三方软件。

**使用 CMD/PowerShell 进行 SSH 连接（推荐）**

Windows 10 及以上版本自带了 OpenSSH 客户端。

1. 按 ``Win + R``，输入 ``cmd`` 或 ``powershell`` 打开终端。
2. 直接输入 SSH 命令连接：

   .. code-block:: bash

      ssh root@IP地址 -p 端口号

   例如：

   .. code-block:: bash

      ssh root@120.232.255.237 -p 30371

3. 输入密码即可登录。

.. tip::

   这种方式简单快捷，不需要下载 PuTTY 或 Xshell 等额外软件。只有在自带命令无法使用时，才建议配置其他服务或软件。

关于 PyCharm 远程连接的警告
~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. warning::

   **Windows 系统 PyCharm 无法使用 SSH 连接**
   
   由于 Windows 文件目录结构与 Linux 不兼容，**不支持** 使用 Windows 版 PyCharm 直接通过 SSH 连接服务器进行远程开发。
   
   **建议方案**：
   请采用"本地修改代码 -> 上传到服务器 -> 服务器端运行"的模式。

